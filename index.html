<!-- THIS IS AN EXAMPLE PAGE AND SHOULD NOT BE USED OUTSIDE OF DEVELOPMENT -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Perplexity Reasoner | Voiceflow Extension</title>
    <script type="module">
      import mql from 'https://cdn.skypack.dev/@microlink/mql';
      window.mql = mql;
    </script>
    <style>
      body {
        background-color: #f9f9f9;
        margin: 0;
        min-height: 100vh;
      }

      .url-preview-container {
        position: fixed;
        z-index: 10000;
        pointer-events: none;
        max-width: 300px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        overflow: hidden;
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 0.2s ease, transform 0.2s ease;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      }

      .url-preview-container.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .url-preview-content {
        padding: 16px;
      }

      .url-preview-loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        padding: 20px;
      }

      .url-preview-loading img {
        width: 32px;
        height: 32px;
      }

      .url-preview-loading-text {
        font-size: 13px;
        color: #6B7280;
        font-weight: 500;
      }

      .url-preview-image {
        width: 100%;
        height: 140px;
        object-fit: cover;
        border-radius: 8px 8px 0 0;
        background: #f3f4f6;
      }

      .url-preview-title {
        font-size: 14px;
        font-weight: 600;
        color: #111827;
        margin: 12px 0 6px;
        line-height: 1.4;
        letter-spacing: -0.01em;
      }

      .url-preview-description {
        font-size: 13px;
        color: #4B5563;
        margin: 0;
        line-height: 1.5;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        letter-spacing: -0.01em;
      }
    </style>
  </head>
  <body>
    <script type="module">
      import { PerplexityReasonerExtension } from '/extensions/perplexityExtension.js';

      (function (d, t) {
        var v = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
        v.onload = function () {
          const config = {
            verify: { projectID: '67a3e2a0d104c9cdb6be2288' },
            url: 'https://general-runtime.voiceflow.com',
            versionID: 'development',
            user: {
              name: 'Demo User',
            },
            autostart: true,
            allowDangerousHTML: true,
            assistant: {
              extensions: [
                PerplexityReasonerExtension
              ],
            },
          };

          window.voiceflow.chat.load(config).then(() => {
            window.voiceflow.chat.open();
          });
        };
        v.src = 'https://cdn.voiceflow.com/widget-next/bundle.mjs';
        v.type = 'text/javascript';
        s.parentNode.insertBefore(v, s);
      })(document, 'script');
    </script>
  </body>
</html>
